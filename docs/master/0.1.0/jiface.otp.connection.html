<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>jiface.otp.connection documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">jiface</span> <span class="project-version">0.1.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="10-low-level-api.html"><div class="inner"><span>Clojang User's Guide: The Low-level API</span></div></a></li><li class="depth-1 "><a href="80-building-jinterface.html"><div class="inner"><span>Building JInterface for Clojure</span></div></a></li><li class="depth-1 "><a href="98-other-resources.html"><div class="inner"><span>Other Resources</span></div></a></li><li class="depth-1 "><a href="99-other-versions.html"><div class="inner"><span>API Docs (All Versions)</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jiface</span></div></div></li><li class="depth-2"><a href="jiface.erlang.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>erlang</span></div></a></li><li class="depth-3 branch"><a href="jiface.erlang.atom.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>atom</span></div></a></li><li class="depth-3 branch"><a href="jiface.erlang.float.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>float</span></div></a></li><li class="depth-3 branch"><a href="jiface.erlang.int.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>int</span></div></a></li><li class="depth-3 branch"><a href="jiface.erlang.list.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>list</span></div></a></li><li class="depth-3 branch"><a href="jiface.erlang.map.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>map</span></div></a></li><li class="depth-3 branch"><a href="jiface.erlang.object.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>object</span></div></a></li><li class="depth-3 branch"><a href="jiface.erlang.pid.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pid</span></div></a></li><li class="depth-3 branch"><a href="jiface.erlang.port.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>port</span></div></a></li><li class="depth-3 branch"><a href="jiface.erlang.string.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>string</span></div></a></li><li class="depth-3 branch"><a href="jiface.erlang.tuple.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tuple</span></div></a></li><li class="depth-3"><a href="jiface.erlang.types.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>types</span></div></a></li><li class="depth-2"><a href="jiface.otp.html"><div class="inner"><span class="tree" style="top: -362px;"><span class="top" style="height: 371px;"></span><span class="bottom"></span></span><span>otp</span></div></a></li><li class="depth-3 branch current"><a href="jiface.otp.connection.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>connection</span></div></a></li><li class="depth-3 branch"><a href="jiface.otp.messaging.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>messaging</span></div></a></li><li class="depth-3 branch"><a href="jiface.otp.nodes.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>nodes</span></div></a></li><li class="depth-3 branch"><a href="jiface.otp.streams.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>streams</span></div></a></li><li class="depth-3"><a href="jiface.otp.transport.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transport</span></div></a></li><li class="depth-2"><a href="jiface.util.html"><div class="inner"><span class="tree" style="top: -176px;"><span class="top" style="height: 185px;"></span><span class="bottom"></span></span><span>util</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="jiface.otp.connection.html#var-abstract-connection-behaviour"><div class="inner"><span>abstract-connection-behaviour</span></div></a></li><li class="depth-1"><a href="jiface.otp.connection.html#var-AbstractConnectionObject"><div class="inner"><span>AbstractConnectionObject</span></div></a></li><li class="depth-2 branch"><a href="jiface.otp.connection.html#var-close"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>close</span></div></a></li><li class="depth-2 branch"><a href="jiface.otp.connection.html#var-connected.3F"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>connected?</span></div></a></li><li class="depth-2 branch"><a href="jiface.otp.connection.html#var-deliver"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>deliver</span></div></a></li><li class="depth-2 branch"><a href="jiface.otp.connection.html#var-get-flags"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get-flags</span></div></a></li><li class="depth-2 branch"><a href="jiface.otp.connection.html#var-get-trace-level"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get-trace-level</span></div></a></li><li class="depth-2 branch"><a href="jiface.otp.connection.html#var-run"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>run</span></div></a></li><li class="depth-2 branch"><a href="jiface.otp.connection.html#var-set-flags"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>set-flags</span></div></a></li><li class="depth-2"><a href="jiface.otp.connection.html#var-set-trace-level"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>set-trace-level</span></div></a></li><li class="depth-1"><a href="jiface.otp.connection.html#var-connection-behaviour"><div class="inner"><span>connection-behaviour</span></div></a></li><li class="depth-1"><a href="jiface.otp.connection.html#var-ConnectionObject"><div class="inner"><span>ConnectionObject</span></div></a></li><li class="depth-2 branch"><a href="jiface.otp.connection.html#var-exit"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>exit</span></div></a></li><li class="depth-2 branch"><a href="jiface.otp.connection.html#var-get-msg-count"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get-msg-count</span></div></a></li><li class="depth-2 branch"><a href="jiface.otp.connection.html#var-get-peer"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get-peer</span></div></a></li><li class="depth-2 branch"><a href="jiface.otp.connection.html#var-get-self"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get-self</span></div></a></li><li class="depth-2 branch"><a href="jiface.otp.connection.html#var-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>link</span></div></a></li><li class="depth-2 branch"><a href="jiface.otp.connection.html#var-receive"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>receive</span></div></a></li><li class="depth-2 branch"><a href="jiface.otp.connection.html#var-receive-buf"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>receive-buf</span></div></a></li><li class="depth-2 branch"><a href="jiface.otp.connection.html#var-receive-msg"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>receive-msg</span></div></a></li><li class="depth-2 branch"><a href="jiface.otp.connection.html#var-receive-rpc"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>receive-rpc</span></div></a></li><li class="depth-2 branch"><a href="jiface.otp.connection.html#var-send"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>send</span></div></a></li><li class="depth-2 branch"><a href="jiface.otp.connection.html#var-send-buf"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>send-buf</span></div></a></li><li class="depth-2 branch"><a href="jiface.otp.connection.html#var-send-rpc"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>send-rpc</span></div></a></li><li class="depth-2"><a href="jiface.otp.connection.html#var-unlink"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>unlink</span></div></a></li><li class="depth-1"><a href="jiface.otp.connection.html#var-EpmdObject"><div class="inner"><span>EpmdObject</span></div></a></li><li class="depth-1"><a href="jiface.otp.connection.html#var-lookup-names"><div class="inner"><span>lookup-names</span></div></a></li><li class="depth-1"><a href="jiface.otp.connection.html#var-lookup-port"><div class="inner"><span>lookup-port</span></div></a></li><li class="depth-1"><a href="jiface.otp.connection.html#var-publish-port"><div class="inner"><span>publish-port</span></div></a></li><li class="depth-1"><a href="jiface.otp.connection.html#var-unpublish-port"><div class="inner"><span>unpublish-port</span></div></a></li><li class="depth-1"><a href="jiface.otp.connection.html#var-use-port"><div class="inner"><span>use-port</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">jiface.otp.connection</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-abstract-connection-behaviour"><h3>abstract-connection-behaviour</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-AbstractConnectionObject"><h3>AbstractConnectionObject</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Maintains a connection between a Java process and a remote Erlang, Java or C node. The object maintains connection state and allows data to be sent to and received from the peer.</p>
<p>This abstract class provides the neccesary methods to maintain the actual connection and encode the messages and headers in the proper format according to the Erlang distribution protocol. Subclasses can use these methods to provide a more or less transparent communication channel as desired.</p>
<p>Note that no receive methods are provided. Subclasses must provide methods for message delivery, and may implement their own receive methods.</p>
<p>If an exception occurs in any of the methods in this class, the connection will be closed and must be reopened in order to resume communication with the peer. This will be indicated to the subclass by passing the exception to its <code>deliver</code> function.</p>
<p>The <code>System</code> property <code>OtpConnection.trace</code> can be used to change the initial trace level setting for all connections. Normally the initial trace level is 0 and connections are not traced unless <code>set-trace-level</code> is used to change the setting for a particular connection. <code>OtpConnection.trace</code> can be used to turn on tracing by default for all connections.</p></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-close"><h3>close</h3><div class="usage"><code>(close this)</code></div><div class="doc"><div class="markdown"><p>Close the connection to the remote node.</p></div></div></div><div class="public anchor" id="var-connected.3F"><h3>connected?</h3><div class="usage"><code>(connected? this)</code></div><div class="doc"><div class="markdown"><p>Determine if the connection is still alive.</p></div></div></div><div class="public anchor" id="var-deliver"><h3>deliver</h3><div class="usage"><code>(deliver this msg-or-exception)</code></div><div class="doc"><div class="markdown"><p>Deliver messages or communication exceptions to the recipient.</p></div></div></div><div class="public anchor" id="var-get-flags"><h3>get-flags</h3><div class="usage"><code>(get-flags this)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-get-trace-level"><h3>get-trace-level</h3><div class="usage"><code>(get-trace-level this)</code></div><div class="doc"><div class="markdown"><p>Get the trace level for this connection.</p></div></div></div><div class="public anchor" id="var-run"><h3>run</h3><div class="usage"><code>(run this)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-set-flags"><h3>set-flags</h3><div class="usage"><code>(set-flags this flag-integer)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-set-trace-level"><h3>set-trace-level</h3><div class="usage"><code>(set-trace-level this level-integer)</code></div><div class="doc"><div class="markdown"><p>Set the trace level for this connection.</p></div></div></div></div></div></div><div class="public anchor" id="var-connection-behaviour"><h3>connection-behaviour</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-ConnectionObject"><h3>ConnectionObject</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Maintains a connection between a Java process and a remote Erlang, Java or C node. The object maintains connection state and allows data to be sent to and received from the peer.</p>
<p>Once a connection is established between the local node and a remote node, the connection object can be used to send and receive messages between the nodes and make rpc calls (assuming that the remote node is a real Erlang node).</p>
<p>The various receive methods are all blocking and will return only when a valid message has been received or an exception is raised.</p>
<p>If an exception occurs in any of the methods in this class, the connection will be closed and must be explicitely reopened in order to resume communication with the peer.</p>
<p>It is not possible to create an instance of this class directly. <code>OtpConnection</code> objects are returned by <code>OtpSelf.connect()</code> and <code>OtpSelf.accept()</code>.</p></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-exit"><h3>exit</h3><div class="usage"><code>(exit this dest-pid reason)</code></div><div class="doc"><div class="markdown"><p>Send an exit signal to a remote process.</p></div></div></div><div class="public anchor" id="var-get-msg-count"><h3>get-msg-count</h3><div class="usage"><code>(get-msg-count this)</code></div><div class="doc"><div class="markdown"><p>Return the number of messages currently waiting in the receive queue for this connection.</p></div></div></div><div class="public anchor" id="var-get-peer"><h3>get-peer</h3><div class="usage"><code>(get-peer this)</code></div><div class="doc"><div class="markdown"><p>Get information about the node at the peer end of this connection.</p></div></div></div><div class="public anchor" id="var-get-self"><h3>get-self</h3><div class="usage"><code>(get-self this)</code></div><div class="doc"><div class="markdown"><p>Get information about the node at the local end of this connection.</p></div></div></div><div class="public anchor" id="var-link"><h3>link</h3><div class="usage"><code>(link this dest-pid)</code></div><div class="doc"><div class="markdown"><p>Create a link between the local node and the specified process on the remote node.</p></div></div></div><div class="public anchor" id="var-receive"><h3>receive</h3><div class="usage"><code>(receive this)</code><code>(receive this timeout)</code></div><div class="doc"><div class="markdown"><p>Receive a message from a remote process.</p></div></div></div><div class="public anchor" id="var-receive-buf"><h3>receive-buf</h3><div class="usage"><code>(receive-buf this)</code><code>(receive-buf this timeout)</code></div><div class="doc"><div class="markdown"><p>Receive a raw (still encoded) message from a remote process.</p></div></div></div><div class="public anchor" id="var-receive-msg"><h3>receive-msg</h3><div class="usage"><code>(receive-msg this)</code><code>(receive-msg this timeout)</code></div><div class="doc"><div class="markdown"><p>Receive a messge complete with sender and recipient information.</p></div></div></div><div class="public anchor" id="var-receive-rpc"><h3>receive-rpc</h3><div class="usage"><code>(receive-rpc this)</code></div><div class="doc"><div class="markdown"><p>Receive an RPC reply from the remote Erlang node.</p></div></div></div><div class="public anchor" id="var-send"><h3>send</h3><div class="usage"><code>(send this dest msg)</code></div><div class="doc"><div class="markdown"><p>Send a message to a process on a remote node.</p></div></div></div><div class="public anchor" id="var-send-buf"><h3>send-buf</h3><div class="usage"><code>(send-buf this desg msg)</code></div><div class="doc"><div class="markdown"><p>Send a pre-encoded message to a process on a remote node.</p></div></div></div><div class="public anchor" id="var-send-rpc"><h3>send-rpc</h3><div class="usage"><code>(send-rpc this mod fun args)</code></div><div class="doc"><div class="markdown"><p>Send an RPC request to the remote Erlang node.</p></div></div></div><div class="public anchor" id="var-unlink"><h3>unlink</h3><div class="usage"><code>(unlink this dest-pid)</code></div><div class="doc"><div class="markdown"><p>Remove a link between the local node and the specified process on the remote node.</p></div></div></div></div></div></div><div class="public anchor" id="var-EpmdObject"><h3>EpmdObject</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Provides methods for registering, unregistering and looking up nodes with the Erlang portmapper daemon (Epmd). For each registered node, Epmd maintains information about the port on which incoming connections are accepted, as well as which versions of the Erlang communication protocol the node supports.</p>
<p>Nodes wishing to contact other nodes must first request information from Epmd before a connection can be set up, however this is done automatically by <code>OtpSelf.connect()</code> when necessary.</p>
<p>The methods <code>publishPort()</code> and <code>unPublishPort()</code> will fail if an Epmd process is not running on the localhost. Additionally <code>lookupPort()</code> will fail if there is no Epmd process running on the host where the specified node is running. See the Erlang documentation for information about starting Epmd.</p>
<p>This class contains only static methods, there are no constructors.</p></div></div></div><div class="public anchor" id="var-lookup-names"><h3>lookup-names</h3><div class="usage"><code>(lookup-names)</code><code>(lookup-names inet-addr)</code><code>(lookup-names inet-addr transport)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-lookup-port"><h3>lookup-port</h3><div class="usage"><code>(lookup-port node)</code></div><div class="doc"><div class="markdown"><p>Determine what port a node listens for incoming connections on.</p></div></div></div><div class="public anchor" id="var-publish-port"><h3>publish-port</h3><div class="usage"><code>(publish-port node)</code></div><div class="doc"><div class="markdown"><p>Register with Epmd, so that other nodes are able to find and connect to it.</p></div></div></div><div class="public anchor" id="var-unpublish-port"><h3>unpublish-port</h3><div class="usage"><code>(unpublish-port node)</code></div><div class="doc"><div class="markdown"><p>Unregister from Epmd.</p></div></div></div><div class="public anchor" id="var-use-port"><h3>use-port</h3><div class="usage"><code>(use-port port-num)</code></div><div class="doc"><div class="markdown"><p>Set the port number to be used to contact the epmd process.</p></div></div></div></div></body></html>